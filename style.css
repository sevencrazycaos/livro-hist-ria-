@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Source+Code+Pro:wght@300&display=swap');

:root {
    --paper: #f4f1ea;
    --ink: #1a1a1a;
    --gold: #c5a059;
    --spine: #1e130c;
    --bg: #0a0a0a;
    --transition: 0.6s cubic-bezier(0.4, 0, 0.2, 1);
    --grain: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
}

.dark-mode {
    --paper: #1a1a1a;
    --ink: #e0e0e0;
    --bg: #050505;
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0;
    background: var(--bg);
    color: var(--ink);
    font-family: 'Playfair Display', serif;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
}

.texture-overlay {
    position: absolute;
    inset: 0;
    background-image: var(--grain);
    opacity: 0.4;
    pointer-events: none;
    z-index: 10;
}

#capa {
    position: fixed;
    inset: 0;
    background: radial-gradient(circle, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.9) 100%),
                url('https://images.unsplash.com/photo-1677442136019-21780ecad995?auto=format&fit=crop&q=80&w=1600') center/cover;
    z-index: 100;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: all 1.2s cubic-bezier(0.8, 0, 0.2, 1);
}

.capa-box {
    width: 90%;
    max-width: 380px;
    padding: 50px;
    text-align: center;
    border: 1px solid var(--gold);
    background: rgba(30, 19, 12, 0.95);
    backdrop-filter: blur(10px);
    box-shadow: 0 40px 80px rgba(0,0,0,0.9);
}

.overline { letter-spacing: 5px; font-size: 0.7rem; color: var(--gold); margin: 0; }
.title { font-family: 'Cinzel', serif; color: var(--gold); font-size: 2.4rem; margin: 15px 0; }
.tagline { font-style: italic; font-size: 0.9rem; color: #fff; opacity: 0.7; }

.book-frame {
    width: 100%;
    max-width: 700px;
    height: 95vh;
    background: var(--paper);
    position: relative;
    box-shadow: 0 0 100px rgba(0,0,0,0.5);
    display: flex;
    flex-direction: column;
    z-index: 1;
    background-image: linear-gradient(to right, rgba(0,0,0,0.12) 0%, transparent 5%, transparent 95%, rgba(0,0,0,0.12) 100%);
}

.image-container { width: 100%; height: 260px; overflow: hidden; border-bottom: 1px solid var(--gold); }
.image-container img { width: 100%; height: 100%; object-fit: cover; filter: sepia(0.2); }

.chapter-title { font-family: 'Cinzel', serif; text-align: center; font-size: 1.7rem; margin: 30px 20px 10px; color: var(--gold); }

.text-area { flex-grow: 1; overflow-y: auto; font-size: 1.25rem; line-height: 1.8; padding: 20px 50px; text-align: justify; }
.text-area p::first-letter {
    float: left; font-size: 4.5rem; line-height: 0.8; padding-right: 12px;
    color: var(--gold); font-family: 'Cinzel', serif;
}

footer { padding: 25px; display: flex; justify-content: space-between; background: rgba(0,0,0,0.03); }
.btn { background: transparent; border: 1px solid var(--gold); color: var(--gold); padding: 10px 18px; font-family: 'Cinzel', serif; cursor: pointer; font-size: 0.75rem; }
.btn:hover { background: var(--gold); color: white; box-shadow: 0 0 15px var(--gold); }

#pg-info { font-family: 'Source Code Pro', monospace; font-size: 0.75rem; opacity: 0.6; }

.hidden { display: none !important; }
.open-effect { transform: scale(2) !important; opacity: 0 !important; filter: blur(20px); }
.fade-in { animation: fadeInText 0.8s ease forwards; }
@keyframes fadeInText { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

.progress-bar { position: absolute; top: 0; left: 0; height: 4px; background: var(--gold); transition: width 0.5s ease; z-index: 20; }